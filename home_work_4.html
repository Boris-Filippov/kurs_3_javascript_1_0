<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- Домашенее задание к уроку Урок 4. Объекты в JavaScript -->

    <script>
        // 1. Написать функцию, преобразующую число в объект. Передавая на вход число от 0 до 999, мы должны получить на выходе объект, в котором в соответствующих свойствах описаны единицы, десятки и сотни. Например, для числа 245 мы должны получить следующий объект: {‘единицы’: 5, ‘десятки’: 4, ‘сотни’: 2}. Если число превышает 999, необходимо выдать соответствующее сообщение с помощью console.log и вернуть пустой объект.

        function getDigitsOfNumber(num) {
            if (!Number.isInteger(num) || num < 0 || num > 999) {
                console.log('Значение аргумента должно быть целым числом в диапазоне [0 .. 999].');
                return {};
            }

            return {
                firstDigit: num % 10,
                secondDigit: Math.floor(num / 10) % 10,
                thirdDigit: Math.floor(num / 100),
            };
        }

        console.log(getDigitsOfNumber(987));
    </script>


    <script>
        // 2.Продолжить работу с интернет-магазином:
        // 2.1. В прошлом домашнем задании вы реализовали корзину на базе массивов. Какими объектами можно заменить их элементы?
        // 2.2. Реализуйте такие объекты.
        // 2.3. Перенести функционал подсчета корзины на объектно-ориентированную базу.

        const basket = {
            goods: [
                {
                    id_product: 123,
                    product_name: "Ноутбук",
                    price: 45600,
                    quantity: 1
                },
                {
                    id_product: 456,
                    product_name: "Мышка",
                    price: 1000,
                    quantity: 1
                }
            ],
            countBasketPrice() {
                // return this.goods.reduce((totalPrice, cartItem) => totalPrice + cartItem.price, 0);
                return this.goods.reduce(function (totalPrice, cartItem) {
                    return totalPrice + cartItem.price;
                }, 0);
            }
        };

        console.log(basket.countBasketPrice());
    </script>

    <script src="./js/script.js"></script>
</body>

</html>